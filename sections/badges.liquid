{%- assign _blocks = section.blocks -%}

{%- if _blocks.size > 0 -%}
  <style>
    {%- for block in _blocks -%}
      {%- assign _block = block.settings -%}

      {% if _block.title != blank and _block.image != blank %}
        .badge-{{ _block.title | handle }} {
          background-image: url({{ _block.image | img_url: '140x' }});
          background-size: contain;
          background-repeat: no-repeat;
          background-position: center center;
          background-color: transparent;
        }
      {% endif %}
    {%- endfor -%}
  </style>
{%- endif -%}

{% schema %}
{
  "name": "Badges",
  "blocks": [
    {
      "type": "badge",
      "name": "Badge",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Badge Text"
        },
        {
          "type": "image_picker",
          "id": "image",
          "label": "Badge Image"
        }
      ]
    }
  ]
}
{% endschema %}
