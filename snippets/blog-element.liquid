{%- assign _section = _section | default: '' -%}
{%- assign articles_per_page = _section.articles_per_page | default: 16 -%}
{%- assign featured_article_handle = featured_article_handle | default: _section.featured_article -%}
{%- assign blog_articles_title = blog_articles_title | default: 'blogs.blog.articles_title' | t -%}
{%- assign is_video = is_video | default: false -%}

{%- if featured_article_handle != blank -%}
  <section class="section-default section-default--featured">
    <div class="shell">
      <div class="section__body">
        {%- render 'article-item' _article: articles[featured_article_handle], _article_modifier: 'article-item--featured', _article_featured: true, is_video: is_video -%}
      </div><!-- /.section__body -->
    </div><!-- /.shell -->
  </section><!-- /.section-default -->
{%- endif -%}

<section class="section-default section-default--blog">
  <div class="shell">
    <header class="section__head">
      <h4 class="section__title h4 h4--mobile-small">{{ blog_articles_title }}</h4><!-- /.section__title -->
    </header><!-- /.section__head -->

    {%- paginate blog.articles by articles_per_page -%}
      <div class="section__body">
        <div class="article-items js-items-load-more">
          {%- for _article in blog.articles -%}
            {%- render 'article-item' _article: _article, _article_modifier: 'article-item--secondary article-items__item', is_video: is_video -%}
          {%- endfor -%}
        </div><!-- /.article-items -->
      </div><!-- /.section__body -->

      <div class="section__actions js-load-actions">
        {%- if paginate.next.is_link -%}
          <a href="{{ paginate.next.url }}" class="section__btn btn btn--blue btn--inverse js-load-actions-btn">{{ 'blogs.blog.view_more' | t }}</a>
        {%- endif -%}
      </div><!-- /.section__actions -->
    {%- endpaginate -%}
  </div><!-- /.shell -->
</section><!-- /.section-default -->
